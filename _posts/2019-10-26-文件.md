---
layout:     post
title:      文件
subtitle:   嘤嘤嘤
date:       2019-10-26
author:     Nikola
header-img: img/post-bg-ios9-web.jpg
catalog: true
tags:
    - java
    - 异常

---

### 遍历文件夹

```java
import java.io.File;
public class TestException {
    public static void main(String[] args) {
        File f = new File("C:\\windows");
        File[] fs = f.listFiles();
        if (null == fs) {
            return;
        }
        long minSize = Integer.MAX_VALUE;
        long maxSize = 0;
        File minFile = null;
        File maxFile = null;
        for (File file : fs) {
            if (file.isDirectory()) continue;
            if (file.length() > maxSize) {
                maxSize = file.length();
                maxFile = file;
            }
            if (file.length()!=0 && file.length() < minSize) {
                minSize = file.length();
                minFile = file;
            }


        }
        System.out.printf("最大的文件是%s，其大小是%,d字节%n", maxFile.getAbsoluteFile(), maxFile.length());
        System.out.printf("最小的文件是%s，其大小是%,d字节%n", minFile.getAbsoluteFile(), minFile.length());


    }
}
```

### 遍历所有文件（包含子文件）

```java
import java.io.File;
public class TestException {
    static long minSize = Integer.MAX_VALUE;
    static long maxSize = 0;
    static File minFile = null;
    static File maxFile = null;
    public static void list(File file) {
        if (file.isFile()) {
            if (file.length() > maxSize) {
                maxSize = file.length();
                maxFile = file;
            }
            if (file.length() != 0 && file.length() < minSize) {
                minSize = file.length();
                minFile = file;
            }
            return;

        }
        if (file.isDirectory()) {
            File[] fs = file.listFiles();
            if (null != fs) {
                for (File f : fs) {
                    list(f);
                }
            }

        }
    }
    public static void main(String[] args) {
        File f = new File("C:\\windows");
        list(f);
        System.out.printf("最大的文件是%s，其大小是%,d字节%n", maxFile.getAbsoluteFile(), maxFile.length());
        System.out.printf("最小的文件是%s，其大小是%,d字节%n", minFile.getAbsoluteFile(), minFile.length());


    }
}
```

### 字节流

创建文件并且写入数据

注意文件父目录不存在就要创建

```java
import java.io.File;
import java.io.FileOutputStream;
import java.io.IOException;

//字节流
public class TestException{
    public static void main(String[] args){
        try{
            File f =new File("d:/xx/xx/LOL.txt");
            File dir = f.getParentFile();
            if(!dir.exists()){//判断父目录是否存在，不存在就创建
                dir.mkdirs();

            }
            FileOutputStream fos = new FileOutputStream(f);//创建基于文件的输出流
            byte[] data = {88,89};//准备数据
            fos.write(data);
        }catch (IOException e){
            e.printStackTrace();



        }



    }


}
```

